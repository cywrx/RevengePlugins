import {findByProps} from"@vendetta/metro";import {registerMessageAction} from"@vendetta/ui/message";import {getAssetIDByName} from"@vendetta/ui/assets";import {showToast} from"@vendetta/ui/toasts";const msgModule=findByProps("deleteMessage","dismissAutomatedMessage"),{getCurrentUser}=findByProps("getCurrentUser");let unpatch;export default{onLoad:()=>{unpatch=registerMessageAction({name:"Quick Delete",icon:getAssetIDByName("Trash"),predicate:(msg)=>msg.author.id===getCurrentUser().id,onPress:(a,m)=>{msgModule.deleteMessage(m.channel_id,m.id).then(()=>{showToast("Deleted",getAssetIDByName("Check"))}).catch((e)=>{console.error(e);showToast("Error",getAssetIDByName("Small"))})}})},onUnload:()=>unpatch?.()};
